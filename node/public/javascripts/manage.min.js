function getUsers(){$.ajax({url:"/users/",method:"GET",success:e=>{$("tbody").html(""),e.forEach(e=>{$("tbody").append(row(e))})}})}function row(e){return'<tr><td id="id" user="'+e.id+'">'+e.id+'</td><td id="username" user="'+e.id+'">'+e.username+'</td><td id="email" user="'+e.id+'">'+e.email+'</td><td id="role" user="'+e.id+'">'+e.role+'</td><td><button class="delete" id="delete" user="'+e.id+'">Delete</button></td></tr>'}getUsers(),$(document).on("click",".delete",e=>{var t=e.currentTarget,r=$(t).attr("user"),d=$("#username[user^='"+r+"']").html();$.confirm({title:"Confirm deletion",content:"Are you sure you want to delete <strong>"+d+"</strong> ?",buttons:{Yes:function(){$.ajax({url:"/users/"+r,method:"delete",success:e=>{$.alert("Deleted!"),getUsers()},error:e=>{$.alert("an Error occured while deleting!"),getUsers()}})},No:function(){}}})});