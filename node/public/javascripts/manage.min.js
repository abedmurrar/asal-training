function getUsers(){$.ajax({url:"/users/",method:"get",success:e=>{$("tbody").html(""),e.forEach(e=>{$("tbody").append(row(e))})},error:e=>{response(JSON.parse(e.responseText))}})}function row(e){return'<tr><td id="id" user="'+e.id+'">'+e.id+'</td><td id="username" user="'+e.id+'">'+e.username+'</td><td id="email" user="'+e.id+'">'+e.email+'</td><td id="role" user="'+e.id+'">'+e.role+'</td><td><button class="delete" id="delete" user="'+e.id+'">Delete</button></td></tr>'}getUsers(),$(document).on("click",".delete",e=>{var t=e.currentTarget,r=$(t).attr("user"),s=$("#username[user^='"+r+"']").html();console.log(s),$.confirm({title:"Confirm deletion",content:"Are you sure you want to delete <strong>"+s+"</strong> ?",buttons:{Yes:function(){$.ajax({url:"/users/"+r,method:"delete",success:e=>{$.alert("Deleted!"),getUsers()},error:e=>{$.alert("an Error occured while deleting!"),getUsers()}})},No:function(){}}})});