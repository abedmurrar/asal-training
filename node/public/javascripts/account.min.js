const usernameRegex=/^[a-z](([\w][.-]{0,1}){6,22})[a-z]$/,emailRegex=/^[\w]([\w][.-]{0,1}?)+@([a-z0-9][_.-]{0,1}?)+\.([a-z]{2,5})$/,passwordRegex=/^.{7,}$/;function response(e){e.success||(e.username?($("#username").addClass("error").removeClass("correct"),$(".username-msg").html(e.username)):($("#username").addClass("correct"),$(".username-msg").html("Valid username").addClass("correct-hint").removeClass("error-hint")),e.password?($("#password").addClass("error").removeClass("correct"),$(".password-msg").html(e.password)):($("#password").addClass("correct"),$(".password-msg").html("Valid password").addClass("correct-hint").removeClass("error-hint")),e.email?($("#email").addClass("error").removeClass("correct"),$(".email-msg").html(e.email)):($("#email").addClass("correct").removeClass("error"),$(".email-msg").html("Valid email").addClass("correct-hint").removeClass("error-hint")))}$("#username").on("keydown",function(){$(this).removeClass("error").removeClass("correct"),$(".username-msg").html("Enter your username").removeClass("error-hint").removeClass("correct-hint")}),$("#password").on("keydown",function(){$(this).removeClass("error").removeClass("correct"),$(".password-msg").html("Enter your password").removeClass("error-hint").removeClass("correct-hint")}),$("#email").on("keydown",function(){$(this).removeClass("error").removeClass("correct"),$(".email-msg").html("Enter your Email").removeClass("error-hint").removeClass("correct-hint")}),$("#delete").on("click",e=>{var r=$("#id").val(),s="DELETE";$.confirm({title:"Confirm deletion",content:"Are you sure you want to delete your account ?",buttons:{Yes:function(){$.ajax({url:"/users/"+r,method:s,success:e=>{$.alert("Deleted!"),s="GET",document.location.assign("/")},error:e=>{$.alert("an Error occured while deleting!")}})},No:function(){}}})}),$("#accountForm").on("submit",e=>{e.preventDefault();var r=$("#username").val().trim(),s=$("#password").val().trim(),a=$("#email").val().trim(),o=!0,t=$("#id").val().trim();""!==r&&usernameRegex.test(r)||(o=!1,$("#username").addClass("error"),$(".username-msg").html("Invalid username").addClass("error-hint")),""!==s&&passwordRegex.test(s)||(o=!1,$("#password").addClass("error"),$(".password-msg").html("Invalid password").addClass("error-hint")),""!==a&&emailRegex.test(a)||(o=!1,$("#email").addClass("error"),$(".email-msg").html("Invalid email").addClass("error-hint")),o&&$.ajax({url:"/users/"+t,method:"PUT",data:$("#accountForm").serialize(),success:e=>{$.dialog({title:"Updated!",content:"Edited Successfully!"})},error:e=>{response(JSON.parse(e.responseText))}})});