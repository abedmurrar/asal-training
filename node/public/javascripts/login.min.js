const usernameRegex=/^[a-z](([\w][.-]{0,1}){6,22})[a-z]$/,passwordRegex=/^.{7,}$/;function response(r){r.success||(r.username?($("#username").addClass("error"),$(".username-msg").html(r.username).addClass("error-hint").removeClass("correct-hint")):($("#username").addClass("correct"),$(".username-msg").html("Correct username").addClass("correct-hint").removeClass("error-hint")),r.password&&($("#password").addClass("error"),$(".password-msg").html(r.password).addClass("error-hint").removeClass("correct-hint")))}$("#username").on("keydown",function(){$(this).removeClass("error").removeClass("correct"),$(".username-msg").html("Enter your username").removeClass("error-hint").removeClass("correct-hint")}),$("#password").on("keydown",function(){$(this).removeClass("error").removeClass("correct"),$(".password-msg").html("Enter your password").removeClass("error-hint").removeClass("correct-hint")}),$("#loginForm").on("submit",r=>{r.preventDefault();var s=$("#username").val().trim(),e=$("#password").val().trim(),a=!0;""!==s&&usernameRegex.test(s)||(a=!1,$("#username").addClass("error"),$(".username-msg").html("Invalid username").addClass("error-hint")),""!==e&&passwordRegex.test(e)||(a=!1,$("#password").addClass("error"),$(".password-msg").html("Invalid Password").addClass("error-hint")),a&&$.ajax({url:"/login",method:"post",data:{username:s,password:e},success:r=>{window.location.replace("/")},error:r=>{response(JSON.parse(r.responseText))}})});